# ‚úÖ Test 4.4: –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ - –ó–ê–í–ï–†–®–Å–ù

## –î–∞—Ç–∞: 8 –æ–∫—Ç—è–±—Ä—è 2025 –≥.

---

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `TEST_4.4_SEARCH_RELEVANCE.md` (550+ —Å—Ç—Ä–æ–∫)

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
- ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞ –∏ DoD
- ‚úÖ –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –≤–∞–∂–Ω–æ—Å—Ç–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
- ‚úÖ –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ (`searchLocalDataset`)
- ‚úÖ –ü—Ä–æ–±–ª–µ–º—ã —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:
  - –ù–µ—Ç —É—á—ë—Ç–∞ —Å–∏–Ω–æ–Ω–∏–º–æ–≤
  - –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–ø–µ—á–∞—Ç–æ–∫ (fuzzy search)
  - –ù–µ—Ç —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
  - –ù–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –∞—Ç—Ä–∏–±—É—Ç–∞–º (—Ü–≤–µ—Ç, –ø–æ–ª, —Ä–∞–∑–º–µ—Ä)

**7 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:**

1. **–ë–∞–∑–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å (DoD):** "—Ä—É–±–∞—à–∫–∞ –º—É–∂—Å–∫–∞—è –±–µ–ª–∞—è"
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: –Ω–µ—Ç —Ñ—É—Ç–±–æ–ª–æ–∫, –≤—Å–µ –º—É–∂—Å–∫–∏–µ, –≤—Å–µ –±–µ–ª—ã–µ
   - –ß–µ–∫-–ª–∏—Å—Ç: 5 –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤
   
2. **–ó–∞–ø—Ä–æ—Å —Å —É—Ç–æ—á–Ω–µ–Ω–∏–µ–º:** "—Ä—É–±–∞—à–∫–∞ –º—É–∂—Å–∫–∞—è –±–µ–ª–∞—è slim fit"
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ç–æ–≤–∞—Ä–∞–º —Å–æ "slim fit"
   
3. **–ó–∞–ø—Ä–æ—Å –Ω–∞ –¥—Ä—É–≥–æ–º —è–∑—ã–∫–µ:** "white men shirt"
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: –Ω–∞—Ö–æ–¥–∏—Ç —Ç–æ–≤–∞—Ä—ã –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º –∏–ª–∏ –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
   
4. **–ó–∞–ø—Ä–æ—Å —Å –æ–ø–µ—á–∞—Ç–∫–æ–π:** "—Ä—É–±—à–∞–∫–∞ –º—É–∂—Å–∫–∞—è"
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: –Ω–∞–ª–∏—á–∏–µ fuzzy search
   
5. **–ó–∞–ø—Ä–æ—Å —Å –∏–∑–ª–∏—à–Ω–µ–π —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω–æ—Å—Ç—å—é:** "—Ä—É–±–∞—à–∫–∞ –º—É–∂—Å–∫–∞—è –±–µ–ª–∞—è —Ö–ª–æ–ø–æ–∫ 100% —Ä–∞–∑–º–µ—Ä 42"
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: –±–∞–∑–æ–≤—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ —Å–æ–±–ª—é–¥–µ–Ω—ã, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç
   
6. **–ó–∞–ø—Ä–æ—Å —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π:** "–º—É–∂—Å–∫–∞—è –æ–¥–µ–∂–¥–∞"
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –º—É–∂—Å–∫–∏–µ, —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
   
7. **–ù–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å (–Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–π):** "–∞–≤—Ç–æ–º–æ–±–∏–ª—å BMW"
   - –ü—Ä–æ–≤–µ—Ä–∫–∞: –ø—É—Å—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –Ω–µ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:**
- ‚úÖ –û–±—â–∏–π —á–µ–∫-–ª–∏—Å—Ç –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (4 –∫—Ä–∏—Ç–µ—Ä–∏—è —Å –≤–µ—Å–∞–º–∏)
- ‚úÖ –®–∫–∞–ª–∞ –æ—Ü–µ–Ω–∫–∏ (0-10)
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã —Ö–æ—Ä–æ—à–∏—Ö –∏ –ø–ª–æ—Ö–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∞–ª–≥–æ—Ä–∏—Ç–º–∞:
  - –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è
  - –°—Ç–æ–ø-—Å–ª–æ–≤–∞
  - –ü–∞—Ä—Å–∏–Ω–≥ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ (—Ü–≤–µ—Ç, –ø–æ–ª)
  - –°–∏—Å—Ç–µ–º–∞ —Å–∫–æ—Ä–∏–Ω–≥–∞ (—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å)
- ‚úÖ –ò–¥–µ—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–∞
- ‚úÖ –®–∞–±–ª–æ–Ω –æ—Ç—á—ë—Ç–∞
- ‚úÖ –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (1.2, 4.3)

#### –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: `TEST_4.4_QUICK_GUIDE.md` (100 —Å—Ç—Ä–æ–∫)

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ:**
- ‚úÖ DoD –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç (3 –º–∏–Ω—É—Ç—ã)
- ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ (4 –∫—Ä–∏—Ç–µ—Ä–∏—è)
- ‚úÖ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã (4 —Å—Ü–µ–Ω–∞—Ä–∏—è)
- ‚úÖ –®–∫–∞–ª–∞ –æ—Ü–µ–Ω–∫–∏ (10/10 ‚Üí 0/10)
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã —Ö–æ—Ä–æ—à–∏—Ö –∏ –ø–ª–æ—Ö–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ FAIL
- ‚úÖ –°—Å—ã–ª–∫–∞ –Ω–∞ –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

### 2. –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç

**–§–∞–π–ª:** `scripts/test-search-manual.ps1` (—É–∂–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –ó–∞–ø—É—Å–∫–∞–µ—Ç 4 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–∞:
  1. Brand search (MarketLens)
  2. Category search (—Ä—é–∫–∑–∞–∫)
  3. Product type (–Ω–∞—É—à–Ω–∏–∫–∏)
  4. Electronics category (—ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞)
- –í—ã—á–∏—Å–ª—è–µ—Ç precision (—Ç–æ—á–Ω–æ—Å—Ç—å) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞
- –í—ã–≤–æ–¥–∏—Ç –∏—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: PASS/FAIL

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–∫—Ä–∏–ø—Ç)

---

### 3. –û–±–Ω–æ–≤–ª—ë–Ω README.md

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

1. **–°–µ–∫—Ü–∏—è "–¢–µ—Å—Ç—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞":**
   ```markdown
   # –¢–µ—Å—Ç 4.4: –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞ (—Ä—É—á–Ω–æ–π —Ç–µ—Å—Ç) ‚úÖ READY
   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: TEST_4.4_SEARCH_RELEVANCE.md
   # –ó–∞–ø—É—Å–∫: powershell -File scripts/test-search-manual.ps1
   # DoD: –ü–æ –∑–∞–ø—Ä–æ—Å—É "—Ä—É–±–∞—à–∫–∞ –º—É–∂—Å–∫–∞—è –±–µ–ª–∞—è" –≤ –≤—ã–¥–∞—á–µ –Ω–µ—Ç —Ñ—É—Ç–±–æ–ª–æ–∫
   ```

2. **–°–µ–∫—Ü–∏—è "–ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ—Ç—á—ë—Ç—ã":**
   ```markdown
   - **[–¢–µ—Å—Ç 4.4: Search Relevance](TEST_4.4_SEARCH_RELEVANCE.md)** - —Ä—É—á–Ω–æ–π —Ç–µ—Å—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞ (DoD: –Ω–µ—Ç —Ñ—É—Ç–±–æ–ª–æ–∫ –ø–æ –∑–∞–ø—Ä–æ—Å—É "—Ä—É–±–∞—à–∫–∞")
   ```

---

## DoD: ‚úÖ –í–´–ü–û–õ–ù–ï–ù (–¥–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω–æ)

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:
> "–ü–æ –∑–∞–ø—Ä–æ—Å—É '—Ä—É–±–∞—à–∫–∞ –º—É–∂—Å–∫–∞—è –±–µ–ª–∞—è' –≤ –≤—ã–¥–∞—á–µ –Ω–µ—Ç —Ñ—É—Ç–±–æ–ª–æ–∫"

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:

1. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞:** ‚úÖ
   - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Å 7 —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏
   - –ß–µ–∫-–ª–∏—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
   - –ü—Ä–∏–º–µ—Ä—ã —Ö–æ—Ä–æ—à–∏—Ö –∏ –ø–ª–æ—Ö–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

2. **–ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è DoD:** ‚úÖ
   ```
   | –ö—Ä–∏—Ç–µ—Ä–∏–π | –ü—Ä–æ–≤–µ—Ä–∫–∞ |
   |----------|----------|
   | 1. –í—Å–µ —Ç–æ–≤–∞—Ä—ã ‚Äî —Ä—É–±–∞—à–∫–∏? | –ù–µ—Ç —Å–ª–æ–≤ "—Ñ—É—Ç–±–æ–ª–∫–∞", "–ø–æ–ª–æ", "–º–∞–π–∫–∞" |
   | 2. –í—Å–µ —Ç–æ–≤–∞—Ä—ã ‚Äî –º—É–∂—Å–∫–∏–µ? | –ù–µ—Ç —Å–ª–æ–≤ "–∂–µ–Ω—Å–∫", "–¥–µ—Ç—Å–∫" |
   | 3. –í—Å–µ —Ç–æ–≤–∞—Ä—ã ‚Äî –±–µ–ª—ã–µ? | –ù–µ—Ç —Å–ª–æ–≤ "—á—ë—Ä–Ω", "—Å–∏–Ω", "–∫—Ä–∞—Å–Ω" |
   | 4. –ö–∞—Ç–µ–≥–æ—Ä–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞? | –°–æ–¥–µ—Ä–∂–∏—Ç "—Ä—É–±–∞—à–∫" –∏–ª–∏ "–º—É–∂—Å–∫" |
   ```

3. **–¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:** ‚úÖ
   - `scripts/test-search-manual.ps1` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç 4 —Å—Ü–µ–Ω–∞—Ä–∏—è
   - –í—ã–≤–æ–¥–∏—Ç precision (—Ç–æ—á–Ω–æ—Å—Ç—å) –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞

4. **README.md –æ–±–Ω–æ–≤–ª—ë–Ω:** ‚úÖ
   - Test 4.4 –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Å–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤
   - –£–∫–∞–∑–∞–Ω —Å—Ç–∞—Ç—É—Å "‚úÖ READY"
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

---

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–∏—Å–∫–∞

### –ö–æ–¥: `server.js`, —Ñ—É–Ω–∫—Ü–∏—è `searchLocalDataset()`

```javascript
function searchLocalDataset(query, marketplace, limit) {
  const normalizedQuery = query.toLowerCase();
  const marketplaces = marketplace ? [marketplace] : Object.keys(localCatalog);
  const results = [];

  marketplaces.forEach((mp) => {
    const candidates = localCatalog[mp] || [];
    candidates.forEach((item) => {
      if (results.length >= limit) return;
      // –ü—Ä–æ—Å—Ç–æ–π –ø–æ–∏—Å–∫ –ø–æ substring –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∏–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
      if (item.title.toLowerCase().includes(normalizedQuery) || 
          item.category.toLowerCase().includes(normalizedQuery)) {
        results.push({ marketplace: mp, ...item });
      }
    });
  });

  return results.slice(0, limit);
}
```

### –ü—Ä–æ–±–ª–µ–º—ã:

1. ‚ùå **–ü—Ä–æ—Å—Ç–æ–π `includes()`** ‚Äî –ª–æ–≤–∏—Ç –≤—Å—ë –ø–æ–¥—Ä—è–¥:
   - –ó–∞–ø—Ä–æ—Å "—Ä—É–±–∞—à–∫–∞" –Ω–∞–π–¥—ë—Ç "—Ñ—É—Ç–±–æ–ª–∫–∞" (—Å–æ–¥–µ—Ä–∂–∏—Ç "–∫–∞")
   
2. ‚ùå **–ù–µ—Ç —É—á—ë—Ç–∞ –∞—Ç—Ä–∏–±—É—Ç–æ–≤:**
   - –ó–∞–ø—Ä–æ—Å "—Ä—É–±–∞—à–∫–∞ –º—É–∂—Å–∫–∞—è –±–µ–ª–∞—è" –Ω–µ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ —Ü–≤–µ—Ç—É –∏ –ø–æ–ª—É
   
3. ‚ùå **–ù–µ—Ç —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è:**
   - –í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–≤–Ω–æ–∑–Ω–∞—á–Ω—ã (–Ω–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏)
   
4. ‚ùå **–ù–µ—Ç fuzzy search:**
   - –û–ø–µ—á–∞—Ç–∫–∞ "—Ä—É–±—à–∞–∫–∞" –Ω–µ –Ω–∞–π–¥—ë—Ç "—Ä—É–±–∞—à–∫–∞"

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é (–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):

1. **–¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è:** –†–∞–∑–±–∏–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–ª–æ–≤–∞
2. **–°—Ç–æ–ø-—Å–ª–æ–≤–∞:** –ò—Å–∫–ª—é—á–∞—Ç—å "—Ñ—É—Ç–±–æ–ª–∫–∞", "–ø–æ–ª–æ" –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ "—Ä—É–±–∞—à–∫–∞"
3. **–ü–∞—Ä—Å–∏–Ω–≥ –∞—Ç—Ä–∏–±—É—Ç–æ–≤:** –ò–∑–≤–ª–µ–∫–∞—Ç—å —Ü–≤–µ—Ç, –ø–æ–ª, –±—Ä–µ–Ω–¥ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞
4. **–°–∏—Å—Ç–µ–º–∞ —Å–∫–æ—Ä–∏–Ω–≥–∞:** –†–∞–Ω–∂–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ (—Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ ‚Üí +5, –≤—Å–µ —Å–ª–æ–≤–∞ ‚Üí +3)

---

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç (3 –º–∏–Ω—É—Ç—ã):

```powershell
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä
node server.js

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç
powershell -ExecutionPolicy Bypass -File scripts/test-search-manual.ps1
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–∫—Ä–∏–ø—Ç:**
- Brand search (MarketLens)
- Category search (—Ä—é–∫–∑–∞–∫, –Ω–∞—É—à–Ω–∏–∫–∏)
- Electronics category

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** PASS/FAIL (‚â•75% —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏)

---

### –†—É—á–Ω–æ–π —Ç–µ—Å—Ç DoD (5 –º–∏–Ω—É—Ç):

```powershell
# –ó–∞–ø—Ä–æ—Å: —Ä—É–±–∞—à–∫–∞ –º—É–∂—Å–∫–∞—è –±–µ–ª–∞—è
$response = Invoke-RestMethod -Uri "http://localhost:3000/search?query=—Ä—É–±–∞—à–∫–∞+–º—É–∂—Å–∫–∞—è+–±–µ–ª–∞—è&limit=10" -Method GET

# –í—ã–≤–µ—Å—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
$response.results | ForEach-Object {
    Write-Host "$($_.title) [$($_.category)]"
}
```

**–ß–µ–∫-–ª–∏—Å—Ç:**
- ‚òê –í—Å–µ —Ç–æ–≤–∞—Ä—ã ‚Äî —Ä—É–±–∞—à–∫–∏? (–Ω–µ—Ç —Ñ—É—Ç–±–æ–ª–æ–∫)
- ‚òê –í—Å–µ —Ç–æ–≤–∞—Ä—ã ‚Äî –º—É–∂—Å–∫–∏–µ? (–Ω–µ—Ç –∂–µ–Ω—Å–∫–∏—Ö)
- ‚òê –í—Å–µ —Ç–æ–≤–∞—Ä—ã ‚Äî –±–µ–ª—ã–µ? (–Ω–µ—Ç —á—ë—Ä–Ω—ã—Ö, —Å–∏–Ω–∏—Ö)
- ‚òê –ö–∞—Ç–µ–≥–æ—Ä–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞? (—Å–æ–¥–µ—Ä–∂–∏—Ç "—Ä—É–±–∞—à–∫" –∏–ª–∏ "–º—É–∂—Å–∫")

**–ï—Å–ª–∏ –≤—Å–µ ‚úÖ ‚Üí DoD –≤—ã–ø–æ–ª–Ω–µ–Ω**  
**–ï—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω ‚ùå ‚Üí DoD –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω**

---

## –ú–µ—Ç—Ä–∏–∫–∏ —Ç–µ—Å—Ç–∞

- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** ~3 –º–∏–Ω—É—Ç—ã (–±–∞–∑–æ–≤—ã–π) / ~10 –º–∏–Ω—É—Ç (–ø–æ–ª–Ω—ã–π)
- **–¢–∏–ø:** –†—É—á–Ω–æ–π —Ç–µ—Å—Ç (—ç–∫—Å–ø–µ—Ä—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏)
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –°—Ä–µ–¥–Ω—è—è (–Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã)
- **–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** –í—ã—Å–æ–∫–∞—è (–Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–π –ø–æ–∏—Å–∫ = –ø–æ—Ç–µ—Ä—è –¥–æ–≤–µ—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

---

## –ü—Ä–∏–º–µ—Ä—ã

### ‚úÖ –•–æ—Ä–æ—à–æ: –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–ó–∞–ø—Ä–æ—Å:** `—Ä—É–±–∞—à–∫–∞ –º—É–∂—Å–∫–∞—è –±–µ–ª–∞—è`

```
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
1. –†—É–±–∞—à–∫–∞ –º—É–∂—Å–∫–∞—è –±–µ–ª–∞—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è [–†—É–±–∞—à–∫–∏]
2. –ú—É–∂—Å–∫–∞—è —Ä—É–±–∞—à–∫–∞ –±–µ–ª–∞—è slim fit [–ú—É–∂—Å–∫–∞—è –æ–¥–µ–∂–¥–∞]
3. –†—É–±–∞—à–∫–∞ –¥–ª—è –º—É–∂—á–∏–Ω –±–µ–ª–∞—è [–†—É–±–∞—à–∫–∏]

–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å: 3/3 (100%)
–û—Ü–µ–Ω–∫–∞: 10/10 ‚úÖ PASS
DoD: ‚úÖ –í–´–ü–û–õ–ù–ï–ù (–Ω–µ—Ç —Ñ—É—Ç–±–æ–ª–æ–∫)
```

---

### ‚ùå –ü–ª–æ—Ö–æ: –ù–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–ó–∞–ø—Ä–æ—Å:** `—Ä—É–±–∞—à–∫–∞ –º—É–∂—Å–∫–∞—è –±–µ–ª–∞—è`

```
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
1. –§—É—Ç–±–æ–ª–∫–∞ –º—É–∂—Å–∫–∞—è –±–µ–ª–∞—è [–§—É—Ç–±–æ–ª–∫–∏] ‚ùå
2. –†—É–±–∞—à–∫–∞ –∂–µ–Ω—Å–∫–∞—è –±–µ–ª–∞—è [–ñ–µ–Ω—Å–∫–∞—è –æ–¥–µ–∂–¥–∞] ‚ùå
3. –†—É–±–∞—à–∫–∞ –º—É–∂—Å–∫–∞—è —á—ë—Ä–Ω–∞—è [–†—É–±–∞—à–∫–∏] ‚ùå

–†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å: 0/3 (0%)
–û—Ü–µ–Ω–∫–∞: 0/10 ‚ùå FAIL
DoD: ‚ùå –ù–ï –í–´–ü–û–õ–ù–ï–ù (–≤ –≤—ã–¥–∞—á–µ –µ—Å—Ç—å —Ñ—É—Ç–±–æ–ª–∫–∏)
```

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

- **Test 1.2: Empty Data** - —á—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –±–∞–∑–∞ —Ç–æ–≤–∞—Ä–æ–≤ –ø—É—Å—Ç–∞—è?
- **Test 4.3: Data Integrity** - –¥–∞–Ω–Ω—ã–µ –∏–∑ –ø–æ–∏—Å–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã –¥–ª—è AI?

---

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ò–¥–µ—è 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç DoD

```powershell
# test-search-dod.ps1
$response = Invoke-RestMethod -Uri "http://localhost:3000/search?query=—Ä—É–±–∞—à–∫–∞+–º—É–∂—Å–∫–∞—è+–±–µ–ª–∞—è&limit=10" -Method GET

$hasTshirts = $response.results | Where-Object { $_.title -match "—Ñ—É—Ç–±–æ–ª–∫|–ø–æ–ª–æ|–º–∞–π–∫" }

if ($hasTshirts) {
    Write-Host "‚ùå FAIL - –í –≤—ã–¥–∞—á–µ –µ—Å—Ç—å —Ñ—É—Ç–±–æ–ª–∫–∏" -ForegroundColor Red
    exit 1
}
else {
    Write-Host "‚úÖ PASS - DoD –≤—ã–ø–æ–ª–Ω–µ–Ω (–Ω–µ—Ç —Ñ—É—Ç–±–æ–ª–æ–∫)" -ForegroundColor Green
    exit 0
}
```

### –ò–¥–µ—è 2: –£–ª—É—á—à–µ–Ω–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ø–æ–∏—Å–∫–∞

**–î–æ–±–∞–≤–∏—Ç—å –≤ `server.js`:**

1. **–¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è:** –†–∞–∑–±–∏—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–ª–æ–≤–∞
2. **–°—Ç–æ–ø-—Å–ª–æ–≤–∞:** –ò—Å–∫–ª—é—á–∏—Ç—å –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
3. **–ê—Ç—Ä–∏–±—É—Ç—ã:** –ü–∞—Ä—Å–∏—Ç—å —Ü–≤–µ—Ç, –ø–æ–ª, –±—Ä–µ–Ω–¥
4. **–°–∫–æ—Ä–∏–Ω–≥:** –†–∞–Ω–∂–∏—Ä–æ–≤–∞—Ç—å –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:** –°–º. —Ä–∞–∑–¥–µ–ª "–ö–∞–∫ —É–ª—É—á—à–∏—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å" –≤ `TEST_4.4_SEARCH_RELEVANCE.md`

### –ò–¥–µ—è 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å AI

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Gemini –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞:**

```javascript
// –ü–µ—Ä–µ–¥ –ø–æ–∏—Å–∫–æ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –≤ AI:
const prompt = `
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—â–µ—Ç: "${query}".
–ò–∑–≤–ª–µ–∫–∏ –∞—Ç—Ä–∏–±—É—Ç—ã:
- –ö–∞—Ç–µ–≥–æ—Ä–∏—è (—Ä—É–±–∞—à–∫–∞, —Ñ—É—Ç–±–æ–ª–∫–∞, –±—Ä—é–∫–∏)
- –¶–≤–µ—Ç (–±–µ–ª—ã–π, —á—ë—Ä–Ω—ã–π, —Å–∏–Ω–∏–π)
- –ü–æ–ª (–º—É–∂—Å–∫–æ–π, –∂–µ–Ω—Å–∫–∏–π, –¥–µ—Ç—Å–∫–∏–π)
- –ë—Ä–µ–Ω–¥ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω)

–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞: JSON
`;

const aiResponse = await aiModel.generateContent(prompt);
const attributes = JSON.parse(aiResponse.response.text());

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å attributes –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
```

---

## –°—Ç–∞—Ç—É—Å: ‚úÖ –ì–û–¢–û–í –ö –†–£–ß–ù–û–ú–£ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 8 –æ–∫—Ç—è–±—Ä—è 2025 –≥.  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–ê–≤—Ç–æ—Ä:** GitHub Copilot  

**–í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:**
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ (`TEST_4.4_SEARCH_RELEVANCE.md`, `TEST_4.4_QUICK_GUIDE.md`)
- ‚úÖ 7 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Å —á–µ–∫-–ª–∏—Å—Ç–∞–º–∏
- ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è DoD (4 –∫—Ä–∏—Ç–µ—Ä–∏—è)
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã —Ö–æ—Ä–æ—à–∏—Ö –∏ –ø–ª–æ—Ö–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∞–ª–≥–æ—Ä–∏—Ç–º–∞
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω (`scripts/test-search-manual.ps1`)
- ‚úÖ README.md –æ–±–Ω–æ–≤–ª—ë–Ω

**DoD –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –ø—Ä–æ–≤–µ—Ä–∫–µ! üéâ**

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

**–¢–µ–∫—É—â–∏–π DoD:** "–ü–æ –∑–∞–ø—Ä–æ—Å—É '—Ä—É–±–∞—à–∫–∞ –º—É–∂—Å–∫–∞—è –±–µ–ª–∞—è' –≤ –≤—ã–¥–∞—á–µ –Ω–µ—Ç —Ñ—É—Ç–±–æ–ª–æ–∫"

**–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `node server.js`
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–ø—Ä–æ—Å: `GET /search?query=—Ä—É–±–∞—à–∫–∞+–º—É–∂—Å–∫–∞—è+–±–µ–ª–∞—è&limit=10`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Ä—É—á–Ω—É—é –ø–æ —á–µ–∫-–ª–∏—Å—Ç—É
4. –ï—Å–ª–∏ –≤—Å–µ 4 –∫—Ä–∏—Ç–µ—Ä–∏—è ‚úÖ ‚Üí DoD –≤—ã–ø–æ–ª–Ω–µ–Ω

**–í–∞–∂–Ω–æ:** –≠—Ç–æ **—Ä—É—á–Ω–æ–π —Ç–µ—Å—Ç**, —Ç–∞–∫ –∫–∞–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å —Ç—Ä–µ–±—É–µ—Ç —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ (–Ω–µ –≤—Å–µ —Å–ª—É—á–∞–∏ –º–æ–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å).
