# TEST 4.2: Экспертная оценка советов AI

## Описание

Ручной тест качества AI-стратегий: проверка логичности, конкретности и применимости рекомендаций от Google Gemini.

## DoD

- ✅ Для всех 3 тестовых сценариев AI генерирует **осмысленные** советы
- ✅ Рекомендации **конкретные** (содержат цифры, действия, приоритеты)
- ✅ Советы **применимы** на практике (можно реально использовать)
- ✅ Отсутствуют **галлюцинации** (AI не выдумывает несуществующие данные)

## Критерии оценки AI-советов

### ✅ Хороший совет

1. **Логичность**
   - Совет следует из предоставленных данных
   - Нет противоречий внутри ответа
   - Выводы обоснованы фактами

2. **Конкретность**
   - Есть конкретные цифры (цены, проценты)
   - Указаны действия (что именно делать)
   - Приоритизированы задачи (что сначала, что потом)

3. **Применимость**
   - Советы реально выполнимы
   - Учитывают контекст маркетплейсов
   - Можно начать реализацию сразу

4. **Отсутствие галлюцинаций**
   - AI не выдумывает данные, которых не было
   - Не называет несуществующие товары/бренды
   - Не приписывает цены/характеристики

### ❌ Плохой совет

1. **Общие фразы**
   - "Улучшите качество товара" (без деталей)
   - "Работайте над маркетингом" (что конкретно?)
   - "Следите за конкурентами" (как?)

2. **Противоречия**
   - "Снизьте цену" + "Повысьте цену" в одном ответе
   - Игнорирование предоставленных данных

3. **Галлюцинации**
   - "Ваш товар стоит 5000₽" (когда в данных указано 3000₽)
   - "Конкурент X предлагает..." (когда X не упоминался)

4. **Невыполнимые советы**
   - "Станьте лидером рынка за неделю"
   - "Увеличьте оборот в 10 раз" (без конкретики)

## Тестовые сценарии

### Сценарий 1: Конкурентное преимущество по цене

**Контекст:** Наш товар дешевле конкурентов

**Данные для AI:**

```json
{
  "userEvidence": [
    "Наш товар: Bluetooth-колонка JBL Charge 5",
    "Наша цена: 8990₽",
    "Наш рейтинг: 4.7 (150 отзывов)",
    "Позиция в категории: #12"
  ],
  "competitorsEvidence": [
    "Конкурент A: JBL Flip 6, цена 9990₽, рейтинг 4.8 (300 отзывов), позиция #3",
    "Конкурент B: Sony SRS-XB43, цена 12990₽, рейтинг 4.6 (220 отзывов), позиция #5",
    "Конкурент C: Marshall Emberton II, цена 15990₽, рейтинг 4.9 (180 отзывов), позиция #1"
  ],
  "tone": "аналитический",
  "focus": ["ценообразование", "маркетинг"]
}
```

**Ожидаемый хороший ответ:**

```
✅ Пример качественного AI-ответа:

1. Ключевые риски:
   - Ваш товар на 11% дешевле JBL Flip 6, но имеет меньше отзывов (в 2 раза)
   - Позиция #12 означает низкую видимость в категории
   - Marshall (#1) показывает, что премиум-сегмент доминирует

2. Рекомендации по цене:
   - Текущая цена 8990₽ — конкурентное преимущество
   - Рассмотрите промо: "9990₽ → 8990₽ (-10%)" для усиления эффекта скидки
   - НЕ снижайте ниже 8500₽ (риск восприятия как "дешёвка")

3. Маркетинг:
   - Акцент на соотношение цена/качество
   - Таргетинг: "JBL Charge 5 дешевле Flip 6 на 1000₽"
   - Увеличьте количество отзывов: стимулируйте покупателей (кэшбэк 100₽ за отзыв)

4. To-Do (приоритеты):
   1. Запустить промо "10% скидка" на 2 недели
   2. Собрать +50 отзывов за месяц (цель: 200 отзывов)
   3. Оптимизировать SEO: добавить "JBL Charge 5 vs Flip 6" в описание
   4. Рекламная кампания с упором на "лучшая цена"
```

**Чеклист проверки:**
- ✅ Есть конкретные цифры (11%, 1000₽, 100₽, 50 отзывов)
- ✅ Указаны действия (запустить промо, собрать отзывы, оптимизировать SEO)
- ✅ Приоритизированы задачи (1-4)
- ✅ Логично следует из данных (цена ниже → акцент на цену)
- ✅ Нет галлюцинаций (все данные из input)

### Сценарий 2: Высокая конкуренция (низкий рейтинг)

**Контекст:** Наш товар имеет низкий рейтинг по сравнению с конкурентами

**Данные для AI:**

```json
{
  "userEvidence": [
    "Наш товар: Беспроводные наушники TWS AirPods Pro 2",
    "Наша цена: 19990₽",
    "Наш рейтинг: 4.2 (80 отзывов)",
    "Позиция в категории: #25"
  ],
  "competitorsEvidence": [
    "Конкурент A: Sony WF-1000XM5, цена 24990₽, рейтинг 4.9 (450 отзывов), позиция #1",
    "Конкурент B: Samsung Galaxy Buds2 Pro, цена 14990₽, рейтинг 4.7 (320 отзывов), позиция #4",
    "Конкурент C: Xiaomi Buds 4 Pro, цена 11990₽, рейтинг 4.5 (200 отзывов), позиция #8"
  ],
  "tone": "мотивирующий",
  "focus": ["улучшение рейтинга", "маркетинг"]
}
```

**Ожидаемый хороший ответ:**

```
✅ Пример качественного AI-ответа:

1. Ключевые риски:
   - Рейтинг 4.2 — критически низкий (на 0.5-0.7 звёзд ниже конкурентов)
   - Мало отзывов (80 vs 200-450 у конкурентов)
   - Позиция #25 = практически невидимы в поиске
   - Цена выше среднего (19990₽ vs 11990-14990₽), но ниже Sony

2. Рекомендации (фокус: рейтинг):
   - СРОЧНО: Разберитесь в причинах низкого рейтинга
   - Проанализируйте негативные отзывы (если есть)
   - Возможные проблемы: качество звука, упаковка, инструкция
   - Цель: поднять до 4.5+ за 2 месяца

3. Маркетинг (восстановление репутации):
   - Программа лояльности: "Гарантия 30 дней возврата денег"
   - Бонус за отзыв: 500₽ кэшбэк при рейтинге 4-5 звёзд
   - Видео-обзоры: попросите довольных клиентов снять видео
   - Таргетинг на фанатов Apple (если совместимость есть)

4. To-Do (приоритеты):
   1. Изучить отзывы конкурентов (что им нравится) — 1 день
   2. Запустить программу "Отзыв = 500₽ бонус" — неделя
   3. Улучшить карточку товара (фото, описание, видео) — 3 дня
   4. Снизить цену на 1000₽ (до 18990₽) для теста — 2 недели
   5. Цель: собрать +120 отзывов (итого 200) за 2 месяца
```

**Чеклист проверки:**
- ✅ Указана проблема (низкий рейтинг 4.2)
- ✅ Конкретные действия (анализ отзывов, кэшбэк 500₽, видео-обзоры)
- ✅ Цели с дедлайнами (4.5+ за 2 месяца, +120 отзывов)
- ✅ Приоритеты (1-5) с указанием сроков
- ✅ Реалистичность (можно выполнить)

### Сценарий 3: Новый товар (мало данных)

**Контекст:** Только запустили товар, мало информации о конкурентах

**Данные для AI:**

```json
{
  "userEvidence": [
    "Наш товар: Умная лампа Xiaomi Mi Smart LED Bulb",
    "Наша цена: 1290₽",
    "Наш рейтинг: — (новинка, 0 отзывов)",
    "Позиция в категории: не определена"
  ],
  "competitorsEvidence": [
    "Конкурент A: Philips Hue White, цена 2490₽, рейтинг 4.6 (500 отзывов)",
    "Конкурент B: Яндекс Лампочка, цена 1590₽, рейтинг 4.3 (150 отзывов)",
    "Конкурент C: TP-Link Tapo L530E, цена 1790₽, рейтинг 4.7 (280 отзывов)"
  ],
  "tone": "оптимистичный",
  "focus": ["старт продаж", "первые отзывы"]
}
```

**Ожидаемый хороший ответ:**

```
✅ Пример качественного AI-ответа:

1. Ключевые риски:
   - Нулевая репутация (0 отзывов) — покупатели не доверяют
   - Конкуренты имеют 150-500 отзывов (огромное преимущество)
   - Philips (премиум) на 93% дороже, но люди покупают (доверие бренду)
   - Без позиции в категории = нулевая органическая видимость

2. Рекомендации (старт продаж):
   - Ваша цена 1290₽ — самая низкая (на 19% дешевле Яндекс Лампочки)
   - Используйте это: "Умная лампа Xiaomi за 1290₽ vs 1590₽"
   - Первые 30 дней критичны для набора отзывов
   - Цель-минимум: 20 отзывов за первый месяц

3. Стратегия первых отзывов:
   - Промо-акция: "Первые 100 покупателей — гарантированный кэшбэк 200₽"
   - Email после доставки: "Напишите отзыв, получите промокод на -10%"
   - Раздайте 5-10 штук блогерам/обзорщикам за честный отзыв
   - Упростите инструкцию (QR-код в коробке → видео-гайд)

4. To-Do (первый месяц):
   1. Запустить кэшбэк 200₽ для первых 100 покупателей — день 1
   2. Отправить 5 ламп ютуб-блогерам (умный дом, гаджеты) — неделя 1
   3. Email-рассылка "Как настроить за 2 минуты" → просьба отзыв — неделя 2
   4. Анализ первых 10 отзывов: что нравится/не нравится — неделя 3
   5. Корректировка описания товара на основе отзывов — неделя 4

Позитивный момент: низкая цена + бренд Xiaomi = потенциал быстрого роста!
```

**Чеклист проверки:**
- ✅ Учтена специфика (новый товар = 0 отзывов)
- ✅ Конкретная стратегия (кэшбэк 200₽, 5-10 блогерам)
- ✅ Цели с дедлайнами (20 отзывов за месяц, понедельный план)
- ✅ Оптимистичный тон (как запрошено)
- ✅ Реалистичные действия (можно выполнить)

## Как проводить тест

### Шаг 1: Подготовить данные

Используйте один из трёх сценариев выше или создайте свой.

### Шаг 2: Отправить запрос к AI

**Вариант A: Через приложение (UI)**

1. Откройте `index.html`
2. Перейдите на вкладку "AI-Стратег" (если есть)
3. Заполните поля:
   - "Наши факты" → `userEvidence`
   - "Конкуренты" → `competitorsEvidence`
   - Тональность → выберите
   - Фокус → выберите
4. Нажмите "Сгенерировать стратегию"

**Вариант B: Через Postman/curl**

```powershell
# PowerShell
$body = @{
  userEvidence = @(
    "Наш товар: Bluetooth-колонка JBL Charge 5",
    "Наша цена: 8990₽",
    "Наш рейтинг: 4.7 (150 отзывов)"
  )
  competitorsEvidence = @(
    "Конкурент A: JBL Flip 6, цена 9990₽, рейтинг 4.8"
  )
  tone = "аналитический"
  focus = @("ценообразование", "маркетинг")
} | ConvertTo-Json

Invoke-RestMethod -Uri "http://localhost:3000/strategize" -Method POST -Body $body -ContentType "application/json"
```

### Шаг 3: Получить ответ от AI

**Пример ответа:**

```json
{
  "strategy": "1. Ключевые риски:\n- Ваш товар на 11% дешевле...\n\n2. Рекомендации...",
  "metadata": {
    "tone": "аналитический",
    "focus": ["ценообразование", "маркетинг"],
    "generatedAt": "2025-10-08T12:34:56.789Z"
  }
}
```

### Шаг 4: Провести peer review (второе мнение AI)

**Используйте ChatGPT, Claude или другой AI:**

**Промт для проверки:**

```
Я тестирую AI-стратега для маркетплейсов. Вот данные:

ВХОДНЫЕ ДАННЫЕ:
Наш товар: Bluetooth-колонка JBL Charge 5
Наша цена: 8990₽
Наш рейтинг: 4.7 (150 отзывов)

Конкурент A: JBL Flip 6, цена 9990₽, рейтинг 4.8 (300 отзывов)

СОВЕТ ОТ AI:
[вставить сюда ответ из шага 3]

ВОПРОСЫ:
1. Является ли этот совет логичным на основе данных?
2. Содержит ли совет конкретные действия и цифры?
3. Можно ли реально применить эти рекомендации?
4. Есть ли галлюцинации (выдуманные AI данные)?
5. Оценка по шкале 1-10: насколько полезен этот совет?
```

### Шаг 5: Оценить по чеклисту

#### Чеклист оценки

| Критерий | Вес | Оценка (0-2) | Примечание |
|----------|-----|--------------|------------|
| **Логичность** | 25% | ☐ 0 ☐ 1 ☐ 2 | Следует из данных |
| **Конкретность** | 25% | ☐ 0 ☐ 1 ☐ 2 | Есть цифры и действия |
| **Применимость** | 25% | ☐ 0 ☐ 1 ☐ 2 | Можно выполнить |
| **Нет галлюцинаций** | 25% | ☐ 0 ☐ 1 ☐ 2 | AI не выдумывает |

**Итоговая оценка:**
- **8-10 баллов:** ✅ Отлично (DoD выполнен)
- **6-7 баллов:** ⚠️ Приемлемо (нужны улучшения)
- **0-5 баллов:** ❌ Плохо (DoD не выполнен)

## Примеры плохих советов

### ❌ Пример 1: Общие фразы

```
AI вернул:

1. Риски:
   - Конкуренция высокая
   - Нужно улучшать товар

2. Рекомендации:
   - Работайте над качеством
   - Следите за рынком
   - Улучшайте сервис

3. To-Do:
   - Анализировать конкурентов
   - Повышать продажи
```

**Проблемы:**
- ❌ Нет цифр
- ❌ Нет конкретных действий
- ❌ Невозможно применить
- **Оценка: 2/10**

### ❌ Пример 2: Галлюцинации

```
AI вернул:

1. Ваш товар стоит 15990₽ (ЛОЖЬ: в данных было 8990₽)
2. Конкурент X предлагает... (X не упоминался во входных данных)
3. Средняя цена в категории 12000₽ (откуда эта цифра?)
```

**Проблемы:**
- ❌ AI выдумывает данные
- ❌ Нельзя доверять выводам
- **Оценка: 0/10**

### ❌ Пример 3: Противоречия

```
AI вернул:

1. Снизьте цену до 7990₽ для конкурентоспособности
...
3. Повысьте цену до 9990₽ для восприятия премиум-бренда
```

**Проблемы:**
- ❌ Внутренние противоречия
- ❌ Непонятно, что делать
- **Оценка: 1/10**

## Критичные красные флаги

🚩 **СТОП-КРИТЕРИИ** (автоматический FAIL):

1. **AI галлюцинирует цены/данные**
   - Называет цифры, которых не было во входных данных

2. **AI игнорирует контекст**
   - Советует действия, противоречащие входным данным

3. **AI даёт невыполнимые советы**
   - "Увеличьте продажи в 100 раз за день"

4. **AI возвращает пустой/ошибочный ответ**
   - Пустая строка
   - JSON вместо текста
   - Только заголовки без содержания

Если хотя бы **1 из 4** присутствует → **DoD НЕ ВЫПОЛНЕН**

## Результаты тестирования

### Шаблон отчёта

```markdown
## Test 4.2: Экспертная оценка AI

Дата: 8 октября 2025 г.
Модель AI: gemini-1.5-flash

### Сценарий 1: Конкурентное преимущество по цене
- Логичность: 2/2 ✅
- Конкретность: 2/2 ✅
- Применимость: 2/2 ✅
- Нет галлюцинаций: 2/2 ✅
- **Итого: 8/8 (100%)**

### Сценарий 2: Низкий рейтинг
- Логичность: 2/2 ✅
- Конкретность: 1/2 ⚠️ (мало цифр)
- Применимость: 2/2 ✅
- Нет галлюцинаций: 2/2 ✅
- **Итого: 7/8 (87.5%)**

### Сценарий 3: Новый товар
- Логичность: 2/2 ✅
- Конкретность: 2/2 ✅
- Применимость: 2/2 ✅
- Нет галлюцинаций: 2/2 ✅
- **Итого: 8/8 (100%)**

### Общий результат
**Средняя оценка: 92.5%**
**DoD: ✅ ВЫПОЛНЕН** (все 3 сценария > 75%)
```

## Связанные тесты

- [Test 2.1: AI Format Validation](TEST_2.1_AI_FORMAT.md) — валидация формата ответа AI
- [Test 4.3: Data Integrity](docs/TEST_4.3_DATA_INTEGRITY.md) — целостность данных парсер→AI

---

**Статус:** ✅ Готов к ручному тестированию  
**Дата:** 8 октября 2025 г.  
**Версия:** 1.0  
**Примечание:** Это качественный тест, требующий экспертной оценки. Используйте peer review для валидации.
