# üöÄ Amvera Deploy - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

**–î–∞—Ç–∞:** 10 –æ–∫—Ç—è–±—Ä—è 2025 –≥.  
**–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** [Amvera.ru](https://amvera.ru)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ API –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.env`

---

## üìã –ß—Ç–æ —Ç–∞–∫–æ–µ Amvera?

**Amvera** ‚Äî —Ä–æ—Å—Å–∏–π—Å–∫–∞—è PaaS-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –¥–µ–ø–ª–æ—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (–∞–Ω–∞–ª–æ–≥ Heroku/Render).

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- üåç –†–æ—Å—Å–∏–π—Å–∫–∏–µ –¥–∞—Ç–∞-—Ü–µ–Ω—Ç—Ä—ã
- ‚ö° –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π –∏–∑ Git
- üí∞ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ
- üîß –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Node.js, PostgreSQL, Redis
- üîê –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π SSL

---

## üîë API –ö–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω

**–§–∞–π–ª `.env` –æ–±–Ω–æ–≤–ª—ë–Ω:**
```env
# Amvera API Key (–¥–ª—è –¥–µ–ø–ª–æ—è)
AMVERA_API_KEY=eyJhbGciOi...
```

‚úÖ **DoD –≤—ã–ø–æ–ª–Ω–µ–Ω:** –§–∞–π–ª `.env` —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–ª—é—á Amvera.

‚ö†Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –§–∞–π–ª `.env` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore` –∏ –Ω–µ –ø–æ–ø–∞–¥—ë—Ç –≤ Git!

---

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –í–∞—Ä–∏–∞–Ω—Ç 1: –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Web UI (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. **–ó–∞–π–¥–∏ –Ω–∞ Amvera:**
   - https://console.amvera.ru
   - –õ–æ–≥–∏–Ω: ramazgal (kazan090813@gmail.com)

2. **–°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç:**
   - New Project ‚Üí Node.js
   - –ü–æ–¥–∫–ª—é—á–∏ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - Branch: `main`

3. **–ù–∞—Å—Ç—Ä–æ–π Environment Variables:**
   ```
   NODE_ENV=production
   PORT=3000
   GEMINI_API_KEY=—Ç–≤–æ–π_–∫–ª—é—á
   ```

4. **Deploy:**
   - –ù–∞–∂–º–∏ "Deploy"
   - –ß–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ CLI

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Amvera CLI
npm install -g @amvera/cli

# –õ–æ–≥–∏–Ω —Å API –∫–ª—é—á–æ–º
amvera auth login --token $AMVERA_API_KEY

# –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
amvera create marketlens --type nodejs

# –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å
amvera deploy
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è Amvera

Amvera –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç Node.js –ø—Ä–æ–µ–∫—Ç –ø–æ `package.json`.

**–ß—Ç–æ –Ω—É–∂–Ω–æ –≤ –ø—Ä–æ–µ–∫—Ç–µ:**
- ‚úÖ `package.json` ‚Äî –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ —Å–∫—Ä–∏–ø—Ç—ã
- ‚úÖ `server.js` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
- ‚úÖ `npm start` ‚Äî –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞

**–£–∂–µ –µ—Å—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ!**

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è Amvera

### 1. –û–±–Ω–æ–≤–∏—Ç—å `package.json`

Amvera –∑–∞–ø—É—Å–∫–∞–µ—Ç `npm start`, –ø—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤ `package.json`:

```json
{
  "scripts": {
    "start": "node server.js"
  },
  "engines": {
    "node": "20.x"
  }
}
```

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–í Amvera Console ‚Üí Settings ‚Üí Environment Variables:**

```
NODE_ENV=production
PORT=3000
HOST=0.0.0.0
GEMINI_API_KEY=—Ç–≤–æ–π_gemini_–∫–ª—é—á
```

### 3. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ï—Å–ª–∏ –Ω—É–∂–Ω–∞ PostgreSQL:**
- Amvera ‚Üí Add-ons ‚Üí PostgreSQL
- –°–∫–æ–ø–∏—Ä—É–π `DATABASE_URL`
- –î–æ–±–∞–≤—å –≤ Environment Variables

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π (3 —à–∞–≥–∞)

### –®–∞–≥ 1: Push –Ω–∞ GitHub

```powershell
git add .
git commit -m "Prepare for Amvera deploy"
git push
```

### –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –≤ Amvera

1. Amvera Console ‚Üí New Project
2. Connect GitHub ‚Üí –í—ã–±–µ—Ä–∏ `marketlens`
3. Branch: `main`

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π –∏ –∑–∞–¥–µ–ø–ª–æ–π

1. **Environment Variables:**
   ```
   GEMINI_API_KEY=—Ç–≤–æ–π_–∫–ª—é—á
   ```

2. **Deploy:**
   - –ù–∞–∂–º–∏ "Deploy"
   - –ß–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã ‚Üí –≥–æ—Ç–æ–≤–æ!

3. **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
   ```
   https://marketlens-—Ç–≤–æ–π-–ø—Ä–æ–µ–∫—Ç.amvera.app
   ```

---

## üì± –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### –û–±–Ω–æ–≤–∏—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (index.html)

**–ï—Å–ª–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ GitHub Pages, –æ–±–Ω–æ–≤–∏ API_BASE_URL:**

```javascript
const API_BASE_URL = (() => {
    // –î–ª—è GitHub Pages ‚Üí Amvera backend
    if (window.location.hostname.includes('github.io')) {
        return 'https://marketlens-—Ç–≤–æ–π-–ø—Ä–æ–µ–∫—Ç.amvera.app';
    }
    // –î–ª—è localhost
    return 'http://localhost:3000';
})();
```

### –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–í Amvera Environment Variables –¥–æ–±–∞–≤—å:**
```
FRONTEND_URL=https://—Ç–≤–æ–π-username.github.io
```

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

**Amvera –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Auto Deploy:**

1. Amvera Console ‚Üí Settings ‚Üí Auto Deploy
2. –í–∫–ª—é—á–∏ "Deploy on push to main"
3. –¢–µ–ø–µ—Ä—å –∫–∞–∂–¥—ã–π `git push` ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π!

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–í Amvera Console:**
- **Logs** ‚Äî –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **Metrics** ‚Äî CPU, RAM, –∑–∞–ø—Ä–æ—Å—ã
- **Health** ‚Äî —Å—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**Health Check endpoint:**
```
https://marketlens-—Ç–≤–æ–π-–ø—Ä–æ–µ–∫—Ç.amvera.app/health
```

---

## üí∞ –¢–∞—Ä–∏—Ñ—ã

**Free Plan:**
- 256 MB RAM
- 0.5 CPU
- 1 GB disk
- **–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è MVP!**

**Paid Plans:**
- –û—Ç 200‚ÇΩ/–º–µ—Å—è—Ü
- –ë–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –¥–æ–º–µ–Ω—ã

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **Amvera Console:** https://console.amvera.ru
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://docs.amvera.ru
- **Support:** https://t.me/amvera_support
- **GitHub:** https://github.com/amvera-ru

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç

- [x] API –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.env`
- [x] `.env` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`
- [ ] –ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ GitHub (`git push`)
- [ ] –ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –≤ Amvera Console
- [ ] GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ–¥–∫–ª—é—á—ë–Ω
- [ ] Environment Variables –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] –ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π –≤—ã–ø–æ–ª–Ω–µ–Ω
- [ ] Health check —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
- [ ] –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ–±–Ω–æ–≤–ª—ë–Ω —Å –Ω–æ–≤—ã–º API URL

---

## üö® Troubleshooting

### –û—à–∏–±–∫–∞: "Module not found"

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å `package.json`, –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ `dependencies` (–Ω–µ –≤ `devDependencies`).

### –û—à–∏–±–∫–∞: "Port already in use"

**–†–µ—à–µ–Ω–∏–µ:** Amvera –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç –ø–æ—Ä—Ç —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `PORT`. –£–±–µ–¥–∏—Å—å —á—Ç–æ –≤ `server.js`:
```javascript
const PORT = process.env.PORT || 3000;
```

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ Amvera Console ‚Üí Logs
2. –£–±–µ–¥–∏—Å—å —á—Ç–æ `npm start` –∑–∞–ø—É—Å–∫–∞–µ—Ç `node server.js`
3. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ GEMINI_API_KEY –¥–æ–±–∞–≤–ª–µ–Ω

---

## üéâ –ì–æ—Ç–æ–≤–æ!

**–¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è:**
- ‚úÖ API –∫–ª—é—á Amvera —Å–æ—Ö—Ä–∞–Ω—ë–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ
- ‚úÖ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** Push –Ω–∞ GitHub –∏ —Å–æ–∑–¥–∞–π –ø—Ä–æ–µ–∫—Ç –≤ Amvera Console!

---

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** AMVERA_DEPLOY.md  
**–î–∞—Ç–∞:** 10 –æ–∫—Ç—è–±—Ä—è 2025 –≥.  
**–ü—Ä–æ–µ–∫—Ç:** MarketLens v6.0.0
