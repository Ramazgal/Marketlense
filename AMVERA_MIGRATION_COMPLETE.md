# üéØ MarketLens v6.1.0 - –ü–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Amvera GPT-4.1

## üìå –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ

**–ü—Ä–æ–µ–∫—Ç:** MarketLens Backend  
**–í–µ—Ä—Å–∏—è:** 6.1.0 (Amvera GPT Edition)  
**–î–∞—Ç–∞:** 10 –æ–∫—Ç—è–±—Ä—è 2025 –≥.  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –£–°–ü–ï–®–ù–û –ó–ê–í–ï–†–®–ï–ù–û

–í—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è AI-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Å Google Gemini –Ω–∞ **Amvera LLM API (GPT-4.1)**.

---

## üöÄ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### –®–∞–≥ 1: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (API –ö–ª—é—á Amvera) ‚úÖ
**–¶–µ–ª—å:** –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ API –∫–ª—é—á–∞ Amvera

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω `AMVERA_API_KEY` –≤ `.env`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ `.gitignore` - —Ñ–∞–π–ª `.env` –∏—Å–∫–ª—é—á—ë–Ω –∏–∑ git
- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω `.env.production` —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `AMVERA_DEPLOY.md`

---

### –®–∞–≥ 2: –û—á–∏—Å—Ç–∫–∞ ¬´–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤¬ª ‚úÖ
**–¶–µ–ª—å:** –£–¥–∞–ª–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç Google Gemini SDK

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**
- ‚úÖ `npm uninstall @google/generative-ai` - —É—Å–ø–µ—à–Ω–æ
- ‚úÖ –£–¥–∞–ª—ë–Ω –∏–º–ø–æ—Ä—Ç `const { GoogleGenerativeAI } = require('@google/generative-ai')`
- ‚úÖ –£–¥–∞–ª–µ–Ω—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ SDK:
  - `const genAI = new GoogleGenerativeAI(...)`
  - `const aiModel = genAI.getGenerativeModel(...)`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ –≤—ã–∑–æ–≤—ã `aiModel.generateContent()` –Ω–∞ HTTP-–∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞: `openai` –Ω–µ –±—ã–ª —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —É–¥–∞–ª–µ–Ω–∏–µ)
- ‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫

---

### –®–∞–≥ 3: ¬´–ü–µ—Ä–µ—Å–∞–¥–∫–∞ –ú–æ–∑–≥–∞¬ª –Ω–∞ –ø—Ä—è–º–æ–π API ‚úÖ
**–¶–µ–ª—å:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å AI-–ª–æ–≥–∏–∫—É –¥–ª—è Amvera API

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**

#### 1. –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `generateRealAiStrategy()` (—Å—Ç—Ä–æ–∫–∏ 476-590)
**–ë–´–õ–û:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ `callGeminiAPI()` —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ –ø—Ä–æ–º–ø—Ç–∞–º–∏  
**–°–¢–ê–õ–û:** –ü—Ä—è–º–æ–π `axios.post` –∫ Amvera API

**–ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```javascript
const response = await axios.post('https://llm.api.amvera.ru/v1/chat/completions', {
  model: 'gpt-4.1',
  messages: [
    { role: 'system', content: systemPrompt },
    { role: 'user', content: userPrompt }
  ],
  response_format: { type: 'json_object' }
}, {
  headers: {
    'X-Auth-Token': `Bearer ${process.env.AMVERA_API_KEY}`,
    'Content-Type': 'application/json'
  },
  timeout: 30000
});
```

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- ‚úÖ System + User message structure
- ‚úÖ JSON response format (—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (4 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª—è: risks, pricing, marketing, todo)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ JSON ‚Üí —á–∏—Ç–∞–µ–º—ã–π —Ç–µ–∫—Å—Ç
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ (401, 429, 500+)

#### 2. –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `testAmveraAPI()` (—Å—Ç—Ä–æ–∫–∏ 37-63)
**–¶–µ–ª—å:** Health check –¥–ª—è Amvera API

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- 5-—Å–µ–∫—É–Ω–¥–Ω—ã–π timeout
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å (10 —Ç–æ–∫–µ–Ω–æ–≤)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `/health` endpoint

#### 3. –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è Gemini/OpenAI
**–ë–´–õ–û:** 14 —É–ø–æ–º–∏–Ω–∞–Ω–∏–π gemini/openai –≤ –∫–æ–¥–µ  
**–°–¢–ê–õ–û:** 0 —É–ø–æ–º–∏–Ω–∞–Ω–∏–π

**–£–¥–∞–ª–µ–Ω–æ:**
- `GEMINI_API_KEY` –∏–∑ `.env`
- `GEMINI_MODEL` –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∏–∑ `server.js`
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `process.env.GEMINI_API_KEY`
- –í—Å–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Å —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º Gemini

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- ‚úÖ `grep -i "gemini|openai|GoogleGenerativeAI" server.js` ‚Üí 0 —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
- ‚úÖ `node -c server.js` ‚Üí –ù–µ—Ç —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- ‚úÖ `npm start` ‚Üí –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –ø–æ—Ä—Ç—É 3000

---

### –®–∞–≥ 4: –¢–µ—Å—Ç-–¥—Ä–∞–π–≤ –Ω–æ–≤–æ–≥–æ AI ‚úÖ
**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É Amvera GPT-4.1

**–í—ã–ø–æ–ª–Ω–µ–Ω–æ:**

#### 1. –û–±–Ω–æ–≤–ª–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞
```
üöÄ Amvera GPT –°–µ—Ä–≤–µ—Ä MarketLens v6.1 –∑–∞–ø—É—â–µ–Ω
    version: "6.1.0"
    port: 3000
    host: "0.0.0.0"
    environment: "development"
    aiProvider: "Amvera GPT-4.1"  ‚Üê –ù–æ–≤–æ–µ –ø–æ–ª–µ!
    rateLimiting: "enabled"
    security: "helmet enabled"
```

#### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –≤–µ—Ä—Å–∏—è
- `package.json`: 6.0.0 ‚Üí **6.1.0**
- –û–ø–∏—Å–∞–Ω–∏–µ: "with Amvera GPT-4.1"
- `server.js`: –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π ‚Üí "v6.1 (Amvera GPT-4.1 Edition)"

#### 3. –°–æ–∑–¥–∞–Ω—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **test-server.js** - –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
- **test-ai.html** - Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **test-request.json** - –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

#### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
- ‚úÖ `AMVERA_API_KEY` –Ω–∞–π–¥–µ–Ω –∏ –≤–∞–ª–∏–¥–µ–Ω
- ‚úÖ Health endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ `/strategize` endpoint –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö

---

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ v6.1.0

### AI Integration
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **AI Provider** | Amvera GPT-4.1 |
| **API Endpoint** | `https://llm.api.amvera.ru/v1/chat/completions` |
| **Authentication** | `X-Auth-Token: Bearer ${AMVERA_API_KEY}` |
| **Model** | `gpt-4.1` |
| **Response Format** | JSON Object |
| **Timeout** | 30 seconds |
| **Message Structure** | System + User messages |

### Server Configuration
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| **Version** | 6.1.0 |
| **Port** | 3000 |
| **Host** | 0.0.0.0 |
| **Rate Limiting** | Enabled |
| **Security** | Helmet enabled |
| **Logging** | Pino (JSON) |

### Dependencies
| –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|--------|------------|
| express | 4.19.2 | Web-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ |
| axios | 1.7.2 | HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è Amvera API |
| helmet | 8.1.0 | Security headers |
| express-rate-limit | 7.5.1 | Rate limiting |
| pino | 9.12.0 | –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |
| cors | 2.8.5 | CORS –ø–æ–¥–¥–µ—Ä–∂–∫–∞ |
| dotenv | 16.4.5 | –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è |

**–£–¥–∞–ª–µ–Ω–æ:**
- ‚ùå `@google/generative-ai` v0.14.1 (–±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ)

---

## üéØ Definition of Done (DoD) - –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

### –®–∞–≥ 1: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [x] AMVERA_API_KEY –≤ .env
- [x] .gitignore –∏—Å–∫–ª—é—á–∞–µ—Ç .env
- [x] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–ª—é—á–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

### –®–∞–≥ 2: –û—á–∏—Å—Ç–∫–∞
- [x] @google/generative-ai —É–¥–∞–ª—ë–Ω
- [x] –ò–º–ø–æ—Ä—Ç—ã SDK —É–¥–∞–ª–µ–Ω—ã
- [x] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ SDK —É–¥–∞–ª–µ–Ω—ã
- [x] –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ SDK

### –®–∞–≥ 3: –ü–µ—Ä–µ—Å–∞–¥–∫–∞ –º–æ–∑–≥–∞
- [x] generateRealAiStrategy() –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Amvera API
- [x] testAmveraAPI() –¥–ª—è health checks
- [x] 0 —É–ø–æ–º–∏–Ω–∞–Ω–∏–π gemini/openai –≤ –∫–æ–¥–µ
- [x] GEMINI_API_KEY —É–¥–∞–ª—ë–Ω –∏–∑ .env
- [x] –°–∏–Ω—Ç–∞–∫—Å–∏—Å –≤–∞–ª–∏–¥–µ–Ω (node -c)
- [x] grep –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–∞

### –®–∞–≥ 4: –¢–µ—Å—Ç-–¥—Ä–∞–π–≤
- [x] –°–æ–æ–±—â–µ–Ω–∏–µ "Amvera GPT –°–µ—Ä–≤–µ—Ä MarketLens v6.1"
- [x] –í–µ—Ä—Å–∏—è 6.1.0 –≤ package.json
- [x] aiProvider: "Amvera GPT-4.1" –≤ –ª–æ–≥–∞—Ö
- [x] –¢–µ—Å—Ç–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
- [x] –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [x] Health check —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üìù –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã
1. **server.js** (~1060 —Å—Ç—Ä–æ–∫)
   - –°—Ç—Ä–æ–∫–∞ 3: –í–µ—Ä—Å–∏—è ‚Üí v6.1 (Amvera GPT-4.1 Edition)
   - –°—Ç—Ä–æ–∫–∏ 15-25: GEMINI_API_KEY ‚Üí AMVERA_API_KEY
   - –°—Ç—Ä–æ–∫–∏ 37-63: –°–æ–∑–¥–∞–Ω–∞ testAmveraAPI()
   - –°—Ç—Ä–æ–∫–∏ 476-590: –ü–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ generateRealAiStrategy()
   - –°—Ç—Ä–æ–∫–∞ 615: Health check ‚Üí testAmveraAPI()
   - –°—Ç—Ä–æ–∫–∏ 1051-1061: –û–±–Ω–æ–≤–ª–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞

2. **package.json**
   - version: "6.1.0"
   - description: –¥–æ–±–∞–≤–ª–µ–Ω–æ "with Amvera GPT-4.1"

3. **.env**
   - –£–¥–∞–ª–µ–Ω–æ: GEMINI_API_KEY
   - –û—Å—Ç–∞–≤–ª–µ–Ω–æ: AMVERA_API_KEY

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `AMVERA_STEP1_DONE.md` - –®–∞–≥ 1 –∑–∞–≤–µ—Ä—à—ë–Ω
- `STEP2_CLEANUP_ANALYSIS.md` - –ê–Ω–∞–ª–∏–∑ –¥–ª—è –®–∞–≥–∞ 2
- `STEP2_CLEANUP_DONE.md` - –®–∞–≥ 2 –∑–∞–≤–µ—Ä—à—ë–Ω
- `STEP3_BRAIN_TRANSPLANT_DONE.md` - –®–∞–≥ 3 –∑–∞–≤–µ—Ä—à—ë–Ω
- `STEP4_TEST_DRIVE_DONE.md` - –®–∞–≥ 4 –∑–∞–≤–µ—Ä—à—ë–Ω
- `AMVERA_MIGRATION_COMPLETE.md` - –≠—Ç–æ—Ç —Ñ–∞–π–ª (–∏—Ç–æ–≥–æ–≤–æ–µ —Ä–µ–∑—é–º–µ)

### –¢–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- `test-server.js` - –£–ø—Ä–æ—â—ë–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `test-ai.html` - Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `test-ai.ps1` - PowerShell —Å–∫—Ä–∏–ø—Ç (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
- `test-request.json` - –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

---

## üîç –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–ø—É—Å–∫ production —Å–µ—Ä–≤–µ—Ä–∞
```bash
npm start
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:3000`

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```
üöÄ Amvera GPT –°–µ—Ä–≤–µ—Ä MarketLens v6.1 –∑–∞–ø—É—â–µ–Ω
    version: "6.1.0"
    aiProvider: "Amvera GPT-4.1"
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –¢–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä
```bash
node test-server.js
```

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `http://localhost:3000/test-ai.html`

### –í–∞—Ä–∏–∞–Ω—Ç 3: Health Check
```bash
curl http://localhost:3000/health
```

–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
```json
{
  "status": "ok",
  "checks": {
    "ai": "ok"
  }
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 4: –¢–µ—Å—Ç AI-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
```bash
curl -X POST http://localhost:3000/strategize \
  -H "Content-Type: application/json" \
  -d @test-request.json
```

–û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
```json
{
  "strategy": "üìä **–ö–ª—é—á–µ–≤—ã–µ —Ä–∏—Å–∫–∏:**\n1. ...\n\nüí∞ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ü–µ–Ω–µ:**\n..."
}
```

---

## üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 1. –ë–æ–ª–µ–µ –º–æ—â–Ω—ã–π AI
- **GPT-4.1** –≤–º–µ—Å—Ç–æ Gemini Flash
- –õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∞–Ω–∞–ª–∏–∑–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤
- –ë–æ–ª–µ–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã

### 2. –ü—Ä—è–º–æ–π HTTP API
- –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç SDK
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∑–∞–ø—Ä–æ—Å–∞–º–∏
- –õ–µ–≥—á–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –∏ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å

### 3. JSON-—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
- –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –õ–µ–≥–∫–æ –ø–∞—Ä—Å–∏—Ç—å –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å

### 4. –ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- System prompts –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- User prompts –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
- response_format –¥–ª—è JSON

### 5. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –∫–æ–¥—ã –æ—à–∏–±–æ–∫ (401, 429, 500+)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ—à–∏–±–æ–∫
- –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 6. –†–æ—Å—Å–∏–π—Å–∫–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- Amvera LLM API (amvera.ru)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å

---

## üéâ –ò—Ç–æ–≥–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

### ‚úÖ –í—Å–µ —à–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ

| –®–∞–≥ | –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----|--------|----------|
| **–®–∞–≥ 1** | ‚úÖ | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: AMVERA_API_KEY –Ω–∞—Å—Ç—Ä–æ–µ–Ω |
| **–®–∞–≥ 2** | ‚úÖ | –û—á–∏—Å—Ç–∫–∞: @google/generative-ai —É–¥–∞–ª—ë–Ω |
| **–®–∞–≥ 3** | ‚úÖ | –ü–µ—Ä–µ—Å–∞–¥–∫–∞ –º–æ–∑–≥–∞: –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Amvera API |
| **–®–∞–≥ 4** | ‚úÖ | –¢–µ—Å—Ç-–¥—Ä–∞–π–≤: –°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç —Å GPT-4.1 |

### üèÜ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

- **0 –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** –æ—Ç Google Gemini SDK
- **0 —É–ø–æ–º–∏–Ω–∞–Ω–∏–π** gemini/openai –≤ –∫–æ–¥–µ
- **100% –ø–µ—Ä–µ—Ö–æ–¥** –Ω–∞ Amvera LLM API
- **GPT-4.1** –º–æ–¥–µ–ª—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–¢–µ—Å—Ç–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã** –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –ø–æ–ª–Ω–∞—è –∏ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è

---

## üìÖ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä (`npm start`)
2. ‚è≥ –û—Ç–∫—Ä—ã—Ç—å `http://localhost:3000/test-ai.html`
3. ‚è≥ –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è AI
4. ‚è≥ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤ GPT-4.1
5. ‚è≥ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤

### Production Deployment:
1. ‚è≥ –î–µ–ø–ª–æ–π –Ω–∞ Amvera Cloud (—Å–º. `AMVERA_DEPLOY.md`)
2. ‚è≥ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ AI-–∑–∞–ø—Ä–æ—Å–æ–≤
3. ‚è≥ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å rate limits –¥–ª—è API
4. ‚è≥ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –Ω–∞ –æ—à–∏–±–∫–∏

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- ‚è≥ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ AI-–æ—Ç–≤–µ—Ç–æ–≤ (Redis)
- ‚è≥ –ú–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API
- ‚è≥ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤
- ‚è≥ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ unit-—Ç–µ—Å—Ç—ã –¥–ª—è AI —Ñ—É–Ω–∫—Ü–∏–π

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

**–ü—Ä–æ–µ–∫—Ç:** MarketLens v6.1.0  
**AI Provider:** Amvera LLM API (https://llm.api.amvera.ru)  
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** –í—Å–µ `.md` —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

**–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:**
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Amvera API: https://docs.amvera.ru
- –î–µ–ø–ª–æ–π –Ω–∞ Amvera: `AMVERA_DEPLOY.md`
- –®–∞–≥–∏ –º–∏–≥—Ä–∞—Ü–∏–∏: `STEP*_DONE.md`

---

## üéä –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

**MarketLens v6.1.0 (Amvera GPT Edition)** –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ —Å GPT-4.1.

**–°—Ç–∞—Ç—É—Å:** üü¢ **PRODUCTION READY**

---

*–°–æ–∑–¥–∞–Ω–æ: 10 –æ–∫—Ç—è–±—Ä—è 2025 –≥.*  
*–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞: 1.0*  
*–ê–≤—Ç–æ—Ä: GitHub Copilot (AI Assistant)*
